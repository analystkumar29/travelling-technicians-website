"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[978],{4978:function(e,s,t){t.d(s,{Z:function(){return PostalCodeChecker}});var r=t(5893),a=t(7294),l=t(5154),i=t(1664),n=t.n(i),c=t(3597);function PostalCodeChecker(e){let{className:s="",variant:t="default",onSuccess:i,onError:o}=e,[d,m]=(0,a.useState)(""),[u,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[f,g]=(0,a.useState)(null),[v,y]=(0,a.useState)(null),[j,N]=(0,a.useState)(!1),[b,w]=(0,a.useState)(null),k=(0,a.useRef)(null);(0,a.useEffect)(()=>{"default"===t&&k.current&&k.current.focus()},[t]);let handleSubmit=e=>{if(e.preventDefault(),g(null),N(!0),w(null),!d.trim()){let e="Please enter a postal code";g(e),y(null),o&&o(e);return}if(!(0,c.MM)(d)){let e="Please enter a valid postal code format (e.g., V6B 1A1)";g(e),y(null),o&&o(e);return}x(!0);try{console.log("Checking service area for:",d);let e=(0,c.mP)(d);if(console.log("Service area result:",e),y(e),e)i&&i(e,d);else{let e="We don't currently service this area. Please contact us for special arrangements.";g(e),o&&o(e)}}catch(s){console.error("Error checking postal code:",s);let e="An error occurred while checking your postal code";g(e),y(null),o&&o(e)}finally{x(!1)}},detectLocation=async()=>{p(!0),g(null),w(null);try{console.log("Detecting location..."),w("Please allow location access when prompted. This may take a few seconds...");let e=await (0,c.ei)();if(console.log("Detected postal code:",e),!e){let e="Unable to detect your postal code. Please enter it manually.";g(e),w("The location service could not determine your postal code. Try entering a nearby postal code instead."),o&&o(e);return}m(e),w(null),console.log("Checking service area for detected postal code:",e);let s=(0,c.mP)(e);if(console.log("Service area result for detected postal code:",s),y(s),N(!0),s)i&&i(s,e);else{let e="We don't currently service this area. Please contact us for special arrangements.";g(e),o&&o(e)}}catch(s){console.error("Location detection error:",s);let e=s.message||"Failed to detect your location";g(e),w("This could be due to browser permissions, network issues, or API limitations. Please try entering your postal code manually instead."),o&&o(e)}finally{p(!1)}};return(0,r.jsx)("div",{className:"".concat("compact"===t?"":"bg-white rounded-lg shadow-lg"," ").concat(s),children:(0,r.jsxs)("div",{className:"compact"===t?"p-0":"p-6",children:["default"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Check If We Service Your Area"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Enter your postal code to check if we provide doorstep repair service in your area."})]}),(0,r.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("div",{className:"relative flex-grow",children:[(0,r.jsx)("input",{ref:k,type:"text",value:d,onChange:e=>m(e.target.value.toUpperCase()),placeholder:"Enter postal code (e.g., V6B 1A1)",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500 pl-10 text-gray-800 placeholder-gray-400 font-medium","aria-label":"Postal Code"}),(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(l.U41,{className:"h-5 w-5 text-gray-400"})})]}),(0,r.jsx)("button",{type:"button",onClick:e=>handleSubmit(e),className:"ml-3 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",disabled:u,children:u?(0,r.jsx)(l.fCD,{className:"animate-spin h-5 w-5"}):"Check"})]}),(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)("span",{className:"px-3 text-gray-500 text-sm",children:"or"})}),(0,r.jsx)("button",{type:"button",onClick:detectLocation,disabled:h,className:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.fCD,{className:"animate-spin h-5 w-5 mr-2"}),"Detecting..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Nh4,{className:"h-5 w-5 mr-2 text-gray-500"}),"Use My Current Location"]})})]}),j&&(v||f)?u?(0,r.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,r.jsx)(l.fCD,{className:"animate-spin text-primary-600 text-2xl"})}):f?(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mt-4",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(l.G5m,{className:"h-5 w-5 text-red-500"})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Service Area Check"}),(0,r.jsxs)("div",{className:"mt-2 text-sm text-red-700",children:[(0,r.jsx)("p",{children:f}),b&&(0,r.jsx)("p",{className:"mt-1 text-xs",children:b})]}),f.includes("don't currently service")&&(0,r.jsx)("div",{className:"mt-4",children:i||o?(0,r.jsx)("span",{className:"text-sm font-medium text-red-800",children:"Please contact us for special arrangements"}):(0,r.jsx)(n(),{href:"/contact/",className:"text-sm font-medium text-red-800 hover:text-red-900",children:"Contact us for special arrangements →"})})]})]})}):v?(0,r.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mt-4",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(l.FJM,{className:"h-5 w-5 text-green-500"})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-green-800",children:"Good News!"}),(0,r.jsxs)("div",{className:"mt-2 text-sm text-green-700",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:v.city})," is in our service area!",d&&(0,r.jsxs)("span",{className:"block text-xs mt-1",children:["Based on postal code: ",(0,r.jsx)("span",{className:"font-mono",children:d})]})]}),(0,r.jsxs)("ul",{className:"mt-2 space-y-1 list-disc list-inside",children:[(0,r.jsx)("li",{children:v.sameDay?"Same-day service is available in your area!":"Same-day service is not available, but we can schedule a visit"}),(0,r.jsxs)("li",{children:["Typical response time: ",v.responseTime]}),v.travelFee?(0,r.jsxs)("li",{children:["Travel fee: $",v.travelFee," (added to repair cost)"]}):(0,r.jsx)("li",{children:"No travel fee for your area"})]})]}),!i&&!o&&(0,r.jsxs)("div",{className:"mt-4 flex space-x-3",children:[(0,r.jsx)(n(),{href:"/book-online/",className:"text-sm font-medium text-green-800 hover:text-green-900",children:"Book a repair now →"}),(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-green-800 hover:text-green-900 cursor-pointer flex items-center",children:"View our services →"}),(0,r.jsx)("div",{className:"absolute left-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-10",children:(0,r.jsxs)("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:[(0,r.jsx)(n(),{href:"/services/mobile/",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:"Mobile Repair"}),(0,r.jsx)(n(),{href:"/services/laptop/",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:"Laptop Repair"})]})})]})]})]})]})}):null:null,"default"===t&&(0,r.jsxs)("div",{className:"mt-4 text-sm text-gray-500 flex items-start",children:[(0,r.jsx)(l.DAO,{className:"h-4 w-4 mr-2 text-gray-400 mt-0.5"}),(0,r.jsx)("p",{children:"We service most areas in the Lower Mainland, including Vancouver, Burnaby, Richmond, Surrey, Coquitlam, Port Coquitlam, North Vancouver, West Vancouver, New Westminster, Delta, Langley, Maple Ridge, Pitt Meadows, and White Rock. We also cover Squamish, Whistler, Victoria, Nanaimo, and Fraser Valley communities up to Chilliwack with adjusted service timeframes and travel fees for some areas."})]})]})})}}}]);