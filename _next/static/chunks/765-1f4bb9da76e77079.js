"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[765],{4765:function(e,s,a){a.d(s,{Z:function(){return PostalCodeChecker}});var r=a(5893),i=a(7294),t=a(5154);let c={V0N1T0:{city:"Squamish",serviceable:!0,sameDay:!1,travelFee:25,responseTime:"1-2 days"},V0N1H0:{city:"Squamish",serviceable:!0,sameDay:!1,travelFee:25,responseTime:"1-2 days"},V8B0V1:{city:"Squamish",serviceable:!0,sameDay:!1,travelFee:25,responseTime:"1-2 days"},V0N1B0:{city:"Whistler",serviceable:!0,sameDay:!1,travelFee:50,responseTime:"1-2 days"},V0N1B1:{city:"Whistler",serviceable:!0,sameDay:!1,travelFee:50,responseTime:"1-2 days"},V0N1B2:{city:"Whistler",serviceable:!0,sameDay:!1,travelFee:50,responseTime:"1-2 days"},V0N1B3:{city:"Whistler",serviceable:!0,sameDay:!1,travelFee:50,responseTime:"1-2 days"},V0N1B4:{city:"Whistler",serviceable:!0,sameDay:!1,travelFee:50,responseTime:"1-2 days"},V0N1B5:{city:"Whistler",serviceable:!0,sameDay:!1,travelFee:50,responseTime:"1-2 days"},V0N1B6:{city:"Whistler",serviceable:!0,sameDay:!1,travelFee:50,responseTime:"1-2 days"},V0N1B7:{city:"Whistler",serviceable:!0,sameDay:!1,travelFee:50,responseTime:"1-2 days"},V0N1B8:{city:"Whistler",serviceable:!0,sameDay:!1,travelFee:50,responseTime:"1-2 days"},V0N1B9:{city:"Whistler",serviceable:!0,sameDay:!1,travelFee:50,responseTime:"1-2 days"},V8E0A1:{city:"Whistler",serviceable:!0,sameDay:!1,travelFee:50,responseTime:"1-2 days"},V6B1A1:{city:"Downtown Vancouver",serviceable:!0,sameDay:!0,responseTime:"30-60 minutes"},V5K0A1:{city:"East Vancouver",serviceable:!0,sameDay:!0,responseTime:"30-60 minutes"},V6E1V3:{city:"West End Vancouver",serviceable:!0,sameDay:!0,responseTime:"30-60 minutes"},V5Y1V4:{city:"Mount Pleasant",serviceable:!0,sameDay:!0,responseTime:"30-60 minutes"},V5T3H5:{city:"Fairview",serviceable:!0,sameDay:!0,responseTime:"30-60 minutes"},V5:{city:"Vancouver",serviceable:!0,sameDay:!0,responseTime:"1-2 hours"},V6:{city:"Vancouver",serviceable:!0,sameDay:!0,responseTime:"1-2 hours"},V3N:{city:"Burnaby",serviceable:!0,sameDay:!0,responseTime:"1-2 hours"},V5A:{city:"Burnaby",serviceable:!0,sameDay:!0,responseTime:"1-2 hours"},V5B:{city:"Burnaby",serviceable:!0,sameDay:!0,responseTime:"1-2 hours"},V5C:{city:"Burnaby",serviceable:!0,sameDay:!0,responseTime:"1-2 hours"},V5E:{city:"Burnaby",serviceable:!0,sameDay:!0,responseTime:"1-2 hours"},V5G:{city:"Burnaby",serviceable:!0,sameDay:!0,responseTime:"1-2 hours"},V5H:{city:"Burnaby",serviceable:!0,sameDay:!0,responseTime:"1-2 hours"},V5J:{city:"Burnaby",serviceable:!0,sameDay:!0,responseTime:"1-2 hours"},V6V:{city:"Richmond",serviceable:!0,sameDay:!0,responseTime:"1-2 hours"},V6W:{city:"Richmond",serviceable:!0,sameDay:!0,responseTime:"1-2 hours"},V6X:{city:"Richmond",serviceable:!0,sameDay:!0,responseTime:"1-2 hours"},V6Y:{city:"Richmond",serviceable:!0,sameDay:!0,responseTime:"1-2 hours"},V7A:{city:"Richmond",serviceable:!0,sameDay:!0,responseTime:"1-2 hours"},V7B:{city:"Richmond",serviceable:!0,sameDay:!0,responseTime:"1-2 hours"},V7C:{city:"Richmond",serviceable:!0,sameDay:!0,responseTime:"1-2 hours"},V3R:{city:"Surrey",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V3S:{city:"Surrey",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V3T:{city:"Surrey",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V3V:{city:"Surrey",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V3W:{city:"Surrey",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V3X:{city:"Surrey",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V4A:{city:"Surrey",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V4N:{city:"Surrey",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V4P:{city:"Surrey",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V3B:{city:"Coquitlam",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V3C:{city:"Coquitlam",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V3E:{city:"Coquitlam",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V3H:{city:"Port Moody",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V3K:{city:"Port Coquitlam",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V7G:{city:"North Vancouver",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V7H:{city:"North Vancouver",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V7J:{city:"North Vancouver",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V7K:{city:"North Vancouver",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V7L:{city:"North Vancouver",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V7M:{city:"North Vancouver",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V7N:{city:"North Vancouver",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V7P:{city:"North Vancouver",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V7R:{city:"West Vancouver",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V7S:{city:"West Vancouver",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V7T:{city:"West Vancouver",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V7V:{city:"West Vancouver",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V7W:{city:"West Vancouver",serviceable:!0,sameDay:!1,responseTime:"3-4 hours"},V3L:{city:"New Westminster",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V3M:{city:"New Westminster",serviceable:!0,sameDay:!0,responseTime:"2-3 hours"},V4C:{city:"Delta",serviceable:!0,sameDay:!1,responseTime:"Next day"},V4E:{city:"Delta",serviceable:!0,sameDay:!1,responseTime:"Next day"},V4K:{city:"Ladner",serviceable:!0,sameDay:!1,responseTime:"Next day"},V4L:{city:"Tsawwassen",serviceable:!0,sameDay:!1,responseTime:"Next day"},V4M:{city:"Tsawwassen",serviceable:!0,sameDay:!1,responseTime:"Next day"},V1M:{city:"Langley",serviceable:!0,sameDay:!1,responseTime:"Next day"},V2Y:{city:"Langley",serviceable:!0,sameDay:!1,responseTime:"Next day"},V2Z:{city:"Langley",serviceable:!0,sameDay:!1,responseTime:"Next day"},V3A:{city:"Langley",serviceable:!0,sameDay:!1,responseTime:"Next day"},V4W:{city:"Langley",serviceable:!0,sameDay:!1,responseTime:"Next day"},V4B:{city:"White Rock",serviceable:!0,sameDay:!1,responseTime:"Next day"},V2W:{city:"Maple Ridge",serviceable:!0,sameDay:!1,responseTime:"Next day"},V2X:{city:"Maple Ridge",serviceable:!0,sameDay:!1,responseTime:"Next day"},V3Y:{city:"Pitt Meadows",serviceable:!0,sameDay:!1,responseTime:"Next day"},V4R:{city:"Maple Ridge",serviceable:!0,sameDay:!1,responseTime:"Next day"},V8B:{city:"Squamish",serviceable:!0,sameDay:!1,travelFee:25,responseTime:"1-2 days"},V8E:{city:"Whistler",serviceable:!0,sameDay:!1,travelFee:50,responseTime:"1-2 days"},V2P:{city:"Chilliwack",serviceable:!0,sameDay:!1,travelFee:35,responseTime:"1-2 days"},V2R:{city:"Chilliwack",serviceable:!0,sameDay:!1,travelFee:35,responseTime:"1-2 days"},V2S:{city:"Abbotsford",serviceable:!0,sameDay:!1,travelFee:25,responseTime:"1-2 days"},V2T:{city:"Abbotsford",serviceable:!0,sameDay:!1,travelFee:25,responseTime:"1-2 days"},V3G:{city:"Abbotsford",serviceable:!0,sameDay:!1,travelFee:25,responseTime:"1-2 days"},V2V:{city:"Mission",serviceable:!0,sameDay:!1,travelFee:25,responseTime:"1-2 days"},V4S:{city:"Mission",serviceable:!0,sameDay:!1,travelFee:25,responseTime:"1-2 days"},V0V:{city:"Sea to Sky Corridor",serviceable:!0,sameDay:!1,travelFee:35,responseTime:"1-2 days"},V0N:{city:"Sea to Sky Region",serviceable:!0,sameDay:!1,travelFee:35,responseTime:"1-2 days"}},isValidPostalCodeFormat=e=>/^[A-Za-z]\d[A-Za-z][ -]?\d[A-Za-z]\d$/.test(e),normalizePostalCode=e=>e?e.replace(/[^A-Za-z0-9]/g,"").toUpperCase():"",checkServiceArea=e=>{if(!e||!isValidPostalCodeFormat(e))return null;let s=normalizePostalCode(e),a=s.substring(0,6),r=s.substring(0,5),i=s.substring(0,4),t=s.substring(0,3);return c[a]?c[a]:c[r]?c[r]:c[i]?c[i]:c[t]?c[t]:null},getCurrentLocationPostalCode=async()=>{try{return new Promise((e,s)=>{if(!navigator.geolocation){s("Geolocation is not supported by your browser");return}navigator.geolocation.getCurrentPosition(async a=>{try{var r;let{latitude:i,longitude:t}=a.coords,c=await fetch("https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(i,"&lon=").concat(t,"&addressdetails=1"),{headers:{"Accept-Language":"en-US,en"}});if(!c.ok){s("Failed to fetch location data");return}let o=await c.json(),l=(null===(r=o.address)||void 0===r?void 0:r.postcode)||"";e(l)}catch(e){s("Error fetching address data")}},e=>{switch(e.code){case e.PERMISSION_DENIED:s("Location permission denied");break;case e.POSITION_UNAVAILABLE:s("Location information is unavailable");break;case e.TIMEOUT:s("Location request timed out");break;default:s("An unknown error occurred")}},{maximumAge:6e4,timeout:1e4,enableHighAccuracy:!0})})}catch(e){throw Error("Failed to get location: "+e)}};function PostalCodeChecker(e){let{className:s="",variant:a="default",onSuccess:c,onError:o}=e,[l,n]=(0,i.useState)(""),[m,y]=(0,i.useState)(!1),[d,u]=(0,i.useState)(!1),[v,h]=(0,i.useState)(null),[p,b]=(0,i.useState)(null),[x,V]=(0,i.useState)(!1),T=(0,i.useRef)(null);(0,i.useEffect)(()=>{"default"===a&&T.current&&T.current.focus()},[a]);let handleSubmit=e=>{if(e.preventDefault(),h(null),V(!0),!l.trim()){let e="Please enter a postal code";h(e),b(null),o&&o(e);return}if(!isValidPostalCodeFormat(l)){let e="Please enter a valid postal code format (e.g., V6B 1A1)";h(e),b(null),o&&o(e);return}y(!0);try{let e=checkServiceArea(l);if(b(e),e)c&&c(e,l);else{let e="We don't currently service this area. Please contact us for special arrangements.";h(e),o&&o(e)}}catch(s){let e="An error occurred while checking your postal code";h(e),b(null),o&&o(e)}finally{y(!1)}},detectLocation=async()=>{u(!0),h(null);try{let e=await getCurrentLocationPostalCode();if(!e){let e="Unable to detect your postal code. Please enter it manually.";h(e),o&&o(e);return}n(e);let s=checkServiceArea(e);if(b(s),V(!0),s)c&&c(s,e);else{let e="We don't currently service this area. Please contact us for special arrangements.";h(e),o&&o(e)}}catch(s){let e=s.message||"Failed to detect your location";h(e),o&&o(e)}finally{u(!1)}};return(0,r.jsx)("div",{className:"".concat("compact"===a?"":"bg-white rounded-lg shadow-lg"," ").concat(s),children:(0,r.jsxs)("div",{className:"compact"===a?"p-0":"p-6",children:["default"===a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Check If We Service Your Area"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Enter your postal code to check if we provide doorstep repair service in your area."})]}),(0,r.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("div",{className:"relative flex-grow",children:[(0,r.jsx)("input",{ref:T,type:"text",value:l,onChange:e=>n(e.target.value.toUpperCase()),placeholder:"Enter postal code (e.g., V6B 1A1)",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500 pl-10 text-gray-800 placeholder-gray-400 font-medium","aria-label":"Postal Code"}),(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(t.U41,{className:"h-5 w-5 text-gray-400"})})]}),(0,r.jsx)("button",{type:"button",onClick:e=>handleSubmit(e),className:"ml-3 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",disabled:m,children:m?(0,r.jsx)(t.fCD,{className:"animate-spin h-5 w-5"}):"Check"})]}),(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)("span",{className:"px-3 text-gray-500 text-sm",children:"or"})}),(0,r.jsx)("button",{type:"button",onClick:detectLocation,disabled:d,className:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.fCD,{className:"animate-spin h-5 w-5 mr-2"}),"Detecting..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.Nh4,{className:"h-5 w-5 mr-2 text-gray-500"}),"Use My Current Location"]})})]}),x&&(p||v)?m?(0,r.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,r.jsx)(t.fCD,{className:"animate-spin text-primary-600 text-2xl"})}):v?(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mt-4",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(t.G5m,{className:"h-5 w-5 text-red-500"})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Service Area Check"}),(0,r.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,r.jsx)("p",{children:v})}),v.includes("don't currently service")&&(0,r.jsx)("div",{className:"mt-4",children:c||o?(0,r.jsx)("span",{className:"text-sm font-medium text-red-800",children:"Please contact us for special arrangements"}):(0,r.jsx)("a",{href:"/contact",className:"text-sm font-medium text-red-800 hover:text-red-900",children:"Contact us for special arrangements →"})})]})]})}):p?(0,r.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mt-4",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(t.FJM,{className:"h-5 w-5 text-green-500"})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-green-800",children:"Good News!"}),(0,r.jsxs)("div",{className:"mt-2 text-sm text-green-700",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:p.city})," is in our service area!",l&&(0,r.jsxs)("span",{className:"block text-xs mt-1",children:["Based on postal code: ",(0,r.jsx)("span",{className:"font-mono",children:l})]})]}),(0,r.jsxs)("ul",{className:"mt-2 space-y-1 list-disc list-inside",children:[(0,r.jsx)("li",{children:p.sameDay?"Same-day service is available in your area!":"Same-day service is not available, but we can schedule a visit"}),(0,r.jsxs)("li",{children:["Typical response time: ",p.responseTime]}),p.travelFee?(0,r.jsxs)("li",{children:["Travel fee: $",p.travelFee," (added to repair cost)"]}):(0,r.jsx)("li",{children:"No travel fee for your area"})]})]}),!c&&!o&&(0,r.jsxs)("div",{className:"mt-4 flex space-x-3",children:[(0,r.jsx)("a",{href:"/book-online",className:"text-sm font-medium text-green-800 hover:text-green-900",children:"Book a repair now →"}),(0,r.jsx)("a",{href:"/services",className:"text-sm font-medium text-green-800 hover:text-green-900",children:"View our services →"})]})]})]})}):null:null,"default"===a&&(0,r.jsxs)("div",{className:"mt-4 text-sm text-gray-500 flex items-start",children:[(0,r.jsx)(t.DAO,{className:"h-4 w-4 mr-2 text-gray-400 mt-0.5"}),(0,r.jsx)("p",{children:"We service most areas in the Lower Mainland, including Vancouver, Burnaby, Richmond, Surrey, and more. We also cover Squamish, Whistler, and other areas along Highway 99, plus Metro Vancouver and Fraser Valley communities up to Chilliwack."})]})]})})}}}]);